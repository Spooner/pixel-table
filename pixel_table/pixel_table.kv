<Pixel>:
    canvas:
        Color:
            rgba: self.color
        Rectangle:
            pos: self.pos
            size: self.size


<PixelGrid>:
    size: root.height, root.height
    spacing: 2, 2
    padding: 8

    canvas.before:
        Color:
            rgb: 0.1, 0.1, 0.1
        Rectangle:
            pos: self.pos
            size: self.size


<PixelTable>:
    grid: grid
    mode_container: mode_container
    mode_title: mode_title

    canvas.before:
        Color:
            rgb: 0.3, 0.3, 0.3
        Rectangle:
            pos:  self.pos
            size: self.size

    BoxLayout:
        orientation: 'horizontal'
        size: root.size

        PixelGrid:
            id: grid
            size_hint_x: None

        BoxLayout:
            orientation: 'vertical'

            Label:
                id: mode_title
                text: '...mode...'
                height: 40
                size_hint_y: None

            BoxLayout:
                id: mode_container


#<ColorDialog>:
#    color_picker: color_picker
#    ColorPicker:
#        id: color_picker

<PaintColor>:
    height: 32
    canvas:
        Color:
            rgb: self.color
        Rectangle:
            pos: self.pos
            size: self.size

<PaintTools>:
    id: paint_tools
    cols: 2
    spacing: 4
    row_default_height: 32
    row_force_default: True
    ToggleButton:
        text: 'Pencil'
        group: 'paint_tools'
        state: 'down'
        on_touch_down: paint_tools.pick_tool(args[1], "pencil")
    ToggleButton:
        text: 'Eraser'
        group: 'paint_tools'
        on_touch_down: paint_tools.pick_tool(args[1], 'eraser')
    ToggleButton:
        text: 'Dropper'
        group: 'paint_tools'
        on_touch_down: paint_tools.pick_tool(args[1], 'dropper')

<Paint>:
    current_color: current_color

    BoxLayout:
        orientation: 'vertical'

        PaintColor:
            id: current_color
            size_hint_y: None

        PaintTools:
