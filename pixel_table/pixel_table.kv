<Pixel>:
    canvas:
        Color:
            rgba: self.color
        Rectangle:
            pos: self.pos
            size: self.size


<PixelGrid>:
    size: root.height, root.height
    spacing: 2, 2
    padding: 4

    canvas.before:
        Color:
            rgb: 0, 0, 0
        Rectangle:
            pos: self.pos
            size: self.size


<Tools>:
    cols: 4
    spacing: 4
    height: 40
    ToggleButton:
        text: 'Pencil'
        group: 'tools'
        state: 'down'
    ToggleButton:
        text: 'Eraser'
        group: 'tools'
    ToggleButton:
        text: 'Dropper'
        group: 'tools'


#<ColorDialog>:
#    color_picker: color_picker
#    ColorPicker:
#        id: color_picker


<CurrentColor>:
    height: 50
    canvas:
        Color:
            rgb: self.color
        Rectangle:
            pos: self.pos
            size: self.size


<PixelTable>:
    grid: grid
    current_color: current_color

    canvas.before:
        Color:
            rgb: 0.3, 0.3, 0.3
        Rectangle:
            pos:  self.pos
            size: self.size

    BoxLayout:
        orientation: 'horizontal'
        size: root.size
        PixelGrid:
            id: grid
            size_hint_x: None

        BoxLayout:
            orientation: 'vertical'

            CurrentColor:
                id: current_color
                size_hint_y: None

            Tools:
                size_hint_y: None
