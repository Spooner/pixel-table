<Pixel>:
    canvas:
        Color:
            rgba: self.color
        Rectangle:
            pos: self.pos
            size: self.size


<PixelGrid>:
    size: root.height, root.height
    spacing: 2, 2
    padding: 4

    canvas.before:
        Color:
            rgb: 0, 0, 0
        Rectangle:
            pos: self.pos
            size: self.size





<PixelTable>:
    grid: grid
    mode: paint

    canvas.before:
        Color:
            rgb: 0.3, 0.3, 0.3
        Rectangle:
            pos:  self.pos
            size: self.size

    BoxLayout:
        orientation: 'horizontal'
        size: root.size
        PixelGrid:
            id: grid
            size_hint_x: None
        Paint:
            id: paint


#<ColorDialog>:
#    color_picker: color_picker
#    ColorPicker:
#        id: color_picker

<PaintColor>:
    height: 50
    canvas:
        Color:
            rgb: self.color
        Rectangle:
            pos: self.pos
            size: self.size

<PaintTools>:
    cols: 4
    spacing: 4
    height: 40
    ToggleButton:
        text: 'Pencil'
        group: 'paint_tools'
        state: 'down'
        on_touch_down: self.parent.pick_tool(args[1], "pencil")
    ToggleButton:
        text: 'Eraser'
        group: 'paint_tools'
        on_touch_down: self.parent.pick_tool(args[1], 'eraser')
    ToggleButton:
        text: 'Dropper'
        group: 'paint_tools'
        on_touch_down: self.parent.pick_tool(args[1], 'dropper')

<Paint>:
    current_color: current_color

    BoxLayout:
        orientation: 'vertical'

        PaintColor:
            id: current_color
            size_hint_y: None

        PaintTools:
            size_hint_y: None
